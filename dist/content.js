(()=>{var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};var t={};let r;!function(r){if("object"==typeof t)t=r();else if("function"==typeof define&&define.amd)define([],r);else{("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).superagent=r()}}((function(){return function e(t,r,o){function n(s,a){if(!r[s]){if(!t[s]){var u=void 0;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[s]={exports:{}};t[s][0].call(l.exports,(function(e){return n(t[s][1][e]||e)}),l,l.exports,e,t,r,o)}return r[s].exports}for(var i=void 0,s=0;s<o.length;s++)n(o[s]);return n}({1:[function(e,t,r){"use strict";function o(e){if(e)return function(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}(e)}void 0!==t&&(t.exports=o),o.prototype.on=o.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},o.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,o=this._callbacks["$"+e];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var n=0;n<o.length;n++)if((r=o[n])===t||r.fn===t){o.splice(n,1);break}return 0===o.length&&delete this._callbacks["$"+e],this},o.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],o=1;o<arguments.length;o++)t[o-1]=arguments[o];if(r){o=0;for(var n=(r=r.slice(0)).length;o<n;++o)r[o].apply(this,t)}return this},o.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},o.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],2:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.exports=s,s.default=s,s.stable=c,s.stableStringify=c;var n=[],i=[];function s(e,t,r){var o;for(a(e,"",[],void 0),o=0===i.length?JSON.stringify(e,t,r):JSON.stringify(e,p(t),r);0!==n.length;){var s=n.pop();4===s.length?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}return o}function a(e,t,r,s){var u;if("object"===o(e)&&null!==e){for(u=0;u<r.length;u++)if(r[u]===e){var c=Object.getOwnPropertyDescriptor(s,t);return void(void 0!==c.get?c.configurable?(Object.defineProperty(s,t,{value:"[Circular]"}),n.push([s,t,e,c])):i.push([e,t]):(s[t]="[Circular]",n.push([s,t,e])))}if(r.push(e),Array.isArray(e))for(u=0;u<e.length;u++)a(e[u],u,r,e);else{var l=Object.keys(e);for(u=0;u<l.length;u++){var p=l[u];a(e[p],p,r,e)}}r.pop()}}function u(e,t){return e<t?-1:e>t?1:0}function c(e,t,r){var o,s=l(e,"",[],void 0)||e;for(o=0===i.length?JSON.stringify(s,t,r):JSON.stringify(s,p(t),r);0!==n.length;){var a=n.pop();4===a.length?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}return o}function l(e,t,r,s){var a;if("object"===o(e)&&null!==e){for(a=0;a<r.length;a++)if(r[a]===e){var c=Object.getOwnPropertyDescriptor(s,t);return void(void 0!==c.get?c.configurable?(Object.defineProperty(s,t,{value:"[Circular]"}),n.push([s,t,e,c])):i.push([e,t]):(s[t]="[Circular]",n.push([s,t,e])))}if("function"==typeof e.toJSON)return;if(r.push(e),Array.isArray(e))for(a=0;a<e.length;a++)l(e[a],a,r,e);else{var p={},f=Object.keys(e).sort(u);for(a=0;a<f.length;a++){var d=f[a];l(e[d],d,r,e),p[d]=e[d]}if(void 0===s)return p;n.push([s,t,e]),s[t]=p}r.pop()}}function p(e){return e=void 0!==e?e:function(e,t){return t},function(t,r){if(i.length>0)for(var o=0;o<i.length;o++){var n=i[o];if(n[1]===t&&n[0]===r){r="[Circular]",i.splice(o,1);break}}return e.call(this,t,r)}}},{}],3:[function(e,t,r){"use strict";var o=String.prototype.replace,n=/%20/g,i=e("./utils"),s={RFC1738:"RFC1738",RFC3986:"RFC3986"};t.exports=i.assign({default:s.RFC3986,formatters:{RFC1738:function(e){return o.call(e,n,"+")},RFC3986:function(e){return String(e)}}},s)},{"./utils":7}],4:[function(e,t,r){"use strict";var o=e("./stringify"),n=e("./parse"),i=e("./formats");t.exports={formats:i,parse:n,stringify:o}},{"./formats":3,"./parse":5,"./stringify":6}],5:[function(e,t,r){"use strict";var o=e("./utils"),n=Object.prototype.hasOwnProperty,i=Array.isArray,s={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:o.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},u=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},c=function(e,t,r,o){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(i),c=a?i.slice(0,a.index):i,l=[];if(c){if(!r.plainObjects&&n.call(Object.prototype,c)&&!r.allowPrototypes)return;l.push(c)}for(var p=0;r.depth>0&&null!==(a=s.exec(i))&&p<r.depth;){if(p+=1,!r.plainObjects&&n.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(a[1])}return a&&l.push("["+i.slice(a.index)+"]"),function(e,t,r,o){for(var n=o?t:u(t,r),i=e.length-1;i>=0;--i){var s,a=e[i];if("[]"===a&&r.parseArrays)s=[].concat(n);else{s=r.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,l=parseInt(c,10);r.parseArrays||""!==c?!isNaN(l)&&a!==c&&String(l)===c&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(s=[])[l]=n:s[c]=n:s={0:n}}n=s}return n}(l,t,r,o)}};t.exports=function(e,t){var r=function(e){if(!e)return s;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?s.charset:e.charset;return{allowDots:void 0===e.allowDots?s.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:s.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:s.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:s.comma,decoder:"function"==typeof e.decoder?e.decoder:s.decoder,delimiter:"string"==typeof e.delimiter||o.isRegExp(e.delimiter)?e.delimiter:s.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:s.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:s.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:s.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var l="string"==typeof e?function(e,t){var r,c={},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,p=t.parameterLimit===1/0?void 0:t.parameterLimit,f=l.split(t.delimiter,p),d=-1,h=t.charset;if(t.charsetSentinel)for(r=0;r<f.length;++r)0===f[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===f[r]?h="utf-8":"utf8=%26%2310003%3B"===f[r]&&(h="iso-8859-1"),d=r,r=f.length);for(r=0;r<f.length;++r)if(r!==d){var y,m,b=f[r],v=b.indexOf("]="),g=-1===v?b.indexOf("="):v+1;-1===g?(y=t.decoder(b,s.decoder,h,"key"),m=t.strictNullHandling?null:""):(y=t.decoder(b.slice(0,g),s.decoder,h,"key"),m=o.maybeMap(u(b.slice(g+1),t),(function(e){return t.decoder(e,s.decoder,h,"value")}))),m&&t.interpretNumericEntities&&"iso-8859-1"===h&&(m=a(m)),b.indexOf("[]=")>-1&&(m=i(m)?[m]:m),n.call(c,y)?c[y]=o.combine(c[y],m):c[y]=m}return c}(e,r):e,p=r.plainObjects?Object.create(null):{},f=Object.keys(l),d=0;d<f.length;++d){var h=f[d],y=c(h,l[h],r,"string"==typeof e);p=o.merge(p,y,r)}return o.compact(p)}},{"./utils":7}],6:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=e("./utils"),i=e("./formats"),s=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},u=Array.isArray,c=Array.prototype.push,l=function(e,t){c.apply(e,u(t)?t:[t])},p=Date.prototype.toISOString,f=i.default,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,format:f,formatter:i.formatters[f],indices:!1,serializeDate:function(e){return p.call(e)},skipNulls:!1,strictNullHandling:!1},h=function e(t,r,i,s,a,c,p,f,h,y,m,b,v){var g,w=t;if("function"==typeof p?w=p(r,w):w instanceof Date?w=y(w):"comma"===i&&u(w)&&(w=n.maybeMap(w,(function(e){return e instanceof Date?y(e):e})).join(",")),null===w){if(s)return c&&!b?c(r,d.encoder,v,"key"):r;w=""}if("string"==typeof(g=w)||"number"==typeof g||"boolean"==typeof g||"symbol"===o(g)||"bigint"==typeof g||n.isBuffer(w))return c?[m(b?r:c(r,d.encoder,v,"key"))+"="+m(c(w,d.encoder,v,"value"))]:[m(r)+"="+m(String(w))];var _,E=[];if(void 0===w)return E;if(u(p))_=p;else{var T=Object.keys(w);_=f?T.sort(f):T}for(var O=0;O<_.length;++O){var j=_[O],k=w[j];if(!a||null!==k){var x=u(w)?"function"==typeof i?i(r,j):r:r+(h?"."+j:"["+j+"]");l(E,e(k,x,i,s,a,c,p,f,h,y,m,b,v))}}return E};t.exports=function(e,t){var r,n=e,c=function(e){if(!e)return d;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||d.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=i.default;if(void 0!==e.format){if(!s.call(i.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var o=i.formatters[r],n=d.filter;return("function"==typeof e.filter||u(e.filter))&&(n=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:d.addQueryPrefix,allowDots:void 0===e.allowDots?d.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:d.charsetSentinel,delimiter:void 0===e.delimiter?d.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:d.encode,encoder:"function"==typeof e.encoder?e.encoder:d.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:d.encodeValuesOnly,filter:n,formatter:o,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:d.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:d.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:d.strictNullHandling}}(t);"function"==typeof c.filter?n=(0,c.filter)("",n):u(c.filter)&&(r=c.filter);var p,f=[];if("object"!==o(n)||null===n)return"";p=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var y=a[p];r||(r=Object.keys(n)),c.sort&&r.sort(c.sort);for(var m=0;m<r.length;++m){var b=r[m];c.skipNulls&&null===n[b]||l(f,h(n[b],b,y,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.formatter,c.encodeValuesOnly,c.charset))}var v=f.join(c.delimiter),g=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),v.length>0?g+v:""}},{"./formats":3,"./utils":7}],7:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=Object.prototype.hasOwnProperty,i=Array.isArray,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},o=0;o<e.length;++o)void 0!==e[o]&&(r[o]=e[o]);return r};t.exports={arrayToObject:a,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var s=t[n],a=s.obj[s.prop],u=Object.keys(a),c=0;c<u.length;++c){var l=u[c],p=a[l];"object"===o(p)&&null!==p&&-1===r.indexOf(p)&&(t.push({obj:a,prop:l}),r.push(p))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(i(r)){for(var o=[],n=0;n<r.length;++n)void 0!==r[n]&&o.push(r[n]);t.obj[t.prop]=o}}}(t),e},decode:function(e,t,r){var o=e.replace(/\+/g," ");if("iso-8859-1"===r)return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch(e){return o}},encode:function(e,t,r){if(0===e.length)return e;var n=e;if("symbol"===o(e)?n=Symbol.prototype.toString.call(e):"string"!=typeof e&&(n=String(e)),"iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var i="",a=0;a<n.length;++a){var u=n.charCodeAt(a);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122?i+=n.charAt(a):u<128?i+=s[u]:u<2048?i+=s[192|u>>6]+s[128|63&u]:u<55296||u>=57344?i+=s[224|u>>12]+s[128|u>>6&63]+s[128|63&u]:(a+=1,u=65536+((1023&u)<<10|1023&n.charCodeAt(a)),i+=s[240|u>>18]+s[128|u>>12&63]+s[128|u>>6&63]+s[128|63&u])}return i},isBuffer:function(e){return!(!e||"object"!==o(e))&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(i(e)){for(var r=[],o=0;o<e.length;o+=1)r.push(t(e[o]));return r}return t(e)},merge:function e(t,r,s){if(!r)return t;if("object"!==o(r)){if(i(t))t.push(r);else{if(!t||"object"!==o(t))return[t,r];(s&&(s.plainObjects||s.allowPrototypes)||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!==o(t))return[t].concat(r);var u=t;return i(t)&&!i(r)&&(u=a(t,s)),i(t)&&i(r)?(r.forEach((function(r,i){if(n.call(t,i)){var a=t[i];a&&"object"===o(a)&&r&&"object"===o(r)?t[i]=e(a,r,s):t.push(r)}else t[i]=r})),t):Object.keys(r).reduce((function(t,o){var i=r[o];return n.call(t,o)?t[o]=e(t[o],i,s):t[o]=i,t}),u)}}},{}],8:[function(e,t,r){"use strict";function o(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function i(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach((function(e){i.prototype[e]=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return this._defaults.push({fn:e,args:r}),this}})),i.prototype._setDefaults=function(e){this._defaults.forEach((function(t){e[t.fn].apply(e,o(t.args))}))},t.exports=i},{}],9:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.exports=function(e){return null!==e&&"object"===o(e)}},{}],10:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n;"undefined"!=typeof window?n=window:"undefined"==typeof self?(console.warn("Using browser-only version of superagent in non-browser environment"),n=void 0):n=self;var i=e("component-emitter"),s=e("fast-safe-stringify"),a=e("qs"),u=e("./request-base"),c=e("./is-object"),l=e("./response-base"),p=e("./agent-base");function f(){}t.exports=function(e,t){return"function"==typeof t?new r.Request("GET",e).end(t):1===arguments.length?new r.Request("GET",e):new r.Request(e,t)};var d=r=t.exports;r.Request=w,d.getXHR=function(){if(n.XMLHttpRequest&&(!n.location||"file:"!==n.location.protocol||!n.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw new Error("Browser-only version of superagent could not find XHR")};var h="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function y(e){if(!c(e))return e;var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&m(t,r,e[r]);return t.join("&")}function m(e,t,r){if(void 0!==r)if(null!==r)if(Array.isArray(r))r.forEach((function(r){m(e,t,r)}));else if(c(r))for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&m(e,"".concat(t,"[").concat(o,"]"),r[o]);else e.push(encodeURI(t)+"="+encodeURIComponent(r));else e.push(encodeURI(t))}function b(e){for(var t,r,o={},n=e.split("&"),i=0,s=n.length;i<s;++i)-1===(r=(t=n[i]).indexOf("="))?o[decodeURIComponent(t)]="":o[decodeURIComponent(t.slice(0,r))]=decodeURIComponent(t.slice(r+1));return o}function v(e){return/[/+]json($|[^-\w])/i.test(e)}function g(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.headers=function(e){for(var t,r,o,n,i=e.split(/\r?\n/),s={},a=0,u=i.length;a<u;++a)-1!==(t=(r=i[a]).indexOf(":"))&&(o=r.slice(0,t).toLowerCase(),n=h(r.slice(t+1)),s[o]=n);return s}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function w(e,t){var r=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",(function(){var e,t=null,o=null;try{o=new g(r)}catch(e){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=e,r.xhr?(t.rawResponse=void 0===r.xhr.responseType?r.xhr.responseText:r.xhr.response,t.status=r.xhr.status?r.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),r.callback(t)}r.emit("response",o);try{r._isResponseOK(o)||(e=new Error(o.statusText||o.text||"Unsuccessful HTTP response"))}catch(t){e=t}e?(e.original=t,e.response=o,e.status=o.status,r.callback(e,o)):r.callback(null,o)}))}function _(e,t,r){var o=d("DELETE",e);return"function"==typeof t&&(r=t,t=null),t&&o.send(t),r&&o.end(r),o}d.serializeObject=y,d.parseString=b,d.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},d.serialize={"application/x-www-form-urlencoded":a.stringify,"application/json":s},d.parse={"application/x-www-form-urlencoded":b,"application/json":JSON.parse},l(g.prototype),g.prototype._parseBody=function(e){var t=d.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&v(this.type)&&(t=d.parse["application/json"]),t&&e&&(e.length>0||e instanceof Object)?t(e):null)},g.prototype.toError=function(){var e=this.req,t=e.method,r=e.url,o="cannot ".concat(t," ").concat(r," (").concat(this.status,")"),n=new Error(o);return n.status=this.status,n.method=t,n.url=r,n},d.Response=g,i(w.prototype),u(w.prototype),w.prototype.type=function(e){return this.set("Content-Type",d.types[e]||e),this},w.prototype.accept=function(e){return this.set("Accept",d.types[e]||e),this},w.prototype.auth=function(e,t,r){1===arguments.length&&(t=""),"object"===o(t)&&null!==t&&(r=t,t=""),r||(r={type:"function"==typeof btoa?"basic":"auto"});var n=function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,t,r,n)},w.prototype.query=function(e){return"string"!=typeof e&&(e=y(e)),e&&this._query.push(e),this},w.prototype.attach=function(e,t,r){if(t){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,r||t.name)}return this},w.prototype._getFormData=function(){return this._formData||(this._formData=new n.FormData),this._formData},w.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var r=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),r(e,t)},w.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},w.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},w.prototype.ca=w.prototype.agent,w.prototype.buffer=w.prototype.ca,w.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},w.prototype.pipe=w.prototype.write,w.prototype._isHost=function(e){return e&&"object"===o(e)&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},w.prototype.end=function(e){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||f,this._finalizeQueryString(),this._end()},w.prototype._setUploadTimeout=function(){var e=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout((function(){e._timeoutError("Upload timeout of ",e._uploadTimeout,"ETIMEDOUT")}),this._uploadTimeout))},w.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var e=this;this.xhr=d.getXHR();var t=this.xhr,r=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var r=t.readyState;if(r>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4===r){var o;try{o=t.status}catch(e){o=0}if(!o){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var o=function(t,r){r.total>0&&(r.percent=r.loaded/r.total*100,100===r.percent&&clearTimeout(e._uploadTimeoutTimer)),r.direction=t,e.emit("progress",r)};if(this.hasListeners("progress"))try{t.addEventListener("progress",o.bind(null,"download")),t.upload&&t.upload.addEventListener("progress",o.bind(null,"upload"))}catch(e){}t.upload&&this._setUploadTimeout();try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!=typeof r&&!this._isHost(r)){var n=this._header["content-type"],i=this._serializer||d.serialize[n?n.split(";")[0]:""];!i&&v(n)&&(i=d.serialize["application/json"]),i&&(r=i(r))}for(var s in this.header)null!==this.header[s]&&Object.prototype.hasOwnProperty.call(this.header,s)&&t.setRequestHeader(s,this.header[s]);this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0===r?null:r)},d.agent=function(){return new p},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach((function(e){p.prototype[e.toLowerCase()]=function(t,r){var o=new d.Request(e,t);return this._setDefaults(o),r&&o.end(r),o}})),p.prototype.del=p.prototype.delete,d.get=function(e,t,r){var o=d("GET",e);return"function"==typeof t&&(r=t,t=null),t&&o.query(t),r&&o.end(r),o},d.head=function(e,t,r){var o=d("HEAD",e);return"function"==typeof t&&(r=t,t=null),t&&o.query(t),r&&o.end(r),o},d.options=function(e,t,r){var o=d("OPTIONS",e);return"function"==typeof t&&(r=t,t=null),t&&o.send(t),r&&o.end(r),o},d.del=_,d.delete=_,d.patch=function(e,t,r){var o=d("PATCH",e);return"function"==typeof t&&(r=t,t=null),t&&o.send(t),r&&o.end(r),o},d.post=function(e,t,r){var o=d("POST",e);return"function"==typeof t&&(r=t,t=null),t&&o.send(t),r&&o.end(r),o},d.put=function(e,t,r){var o=d("PUT",e);return"function"==typeof t&&(r=t,t=null),t&&o.send(t),r&&o.end(r),o}},{"./agent-base":8,"./is-object":9,"./request-base":11,"./response-base":12,"component-emitter":1,"fast-safe-stringify":2,qs:4}],11:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=e("./is-object");function i(e){if(e)return function(e){for(var t in i.prototype)Object.prototype.hasOwnProperty.call(i.prototype,t)&&(e[t]=i.prototype[t]);return e}(e)}t.exports=i,i.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},i.prototype.parse=function(e){return this._parser=e,this},i.prototype.responseType=function(e){return this._responseType=e,this},i.prototype.serialize=function(e){return this._serializer=e,this},i.prototype.timeout=function(e){if(!e||"object"!==o(e))return this._timeout=e,this._responseTimeout=0,this._uploadTimeout=0,this;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;case"upload":this._uploadTimeout=e.upload;break;default:console.warn("Unknown timeout option",t)}return this},i.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var s=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),a=new Set([408,413,429,500,502,503,504,521,522,524]);i.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(e,t);if(!0===r)return!0;if(!1===r)return!1}catch(e){console.error(e)}if(t&&t.status&&a.has(t.status))return!0;if(e){if(e.code&&s.has(e.code))return!0;if(e.timeout&&"ECONNABORTED"===e.code)return!0;if(e.crossDomain)return!0}return!1},i.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},i.prototype.then=function(e,t){var r=this;if(!this._fullfilledPromise){var o=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((function(e,t){o.on("abort",(function(){if(!(r._maxRetries&&r._maxRetries>r._retries))if(r.timedout&&r.timedoutError)t(r.timedoutError);else{var e=new Error("Aborted");e.code="ABORTED",e.status=r.status,e.method=r.method,e.url=r.url,t(e)}})),o.end((function(r,o){r?t(r):e(o)}))}))}return this._fullfilledPromise.then(e,t)},i.prototype.catch=function(e){return this.then(void 0,e)},i.prototype.use=function(e){return e(this),this},i.prototype.ok=function(e){if("function"!=typeof e)throw new Error("Callback required");return this._okCallback=e,this},i.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},i.prototype.get=function(e){return this._header[e.toLowerCase()]},i.prototype.getHeader=i.prototype.get,i.prototype.set=function(e,t){if(n(e)){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.set(r,e[r]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},i.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},i.prototype.field=function(e,t){if(null==e)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(n(e)){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.field(r,e[r]);return this}if(Array.isArray(t)){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&this.field(e,t[o]);return this}if(null==t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=String(t)),this._getFormData().append(e,t),this},i.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},i.prototype._auth=function(e,t,r,o){switch(r.type){case"basic":this.set("Authorization","Basic ".concat(o("".concat(e,":").concat(t))));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer ".concat(e))}return this},i.prototype.withCredentials=function(e){return void 0===e&&(e=!0),this._withCredentials=e,this},i.prototype.redirects=function(e){return this._maxRedirects=e,this},i.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw new TypeError("Invalid argument");return this._maxResponseSize=e,this},i.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},i.prototype.send=function(e){var t=n(e),r=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(t&&n(this._data))for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(this._data[o]=e[o]);else"string"==typeof e?(r||this.type("form"),(r=this._header["content-type"])&&(r=r.toLowerCase().trim()),this._data="application/x-www-form-urlencoded"===r?this._data?"".concat(this._data,"&").concat(e):e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)||r||this.type("json"),this},i.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},i.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.includes("?")?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var r=this.url.slice(t+1).split("&");"function"==typeof this._sort?r.sort(this._sort):r.sort(),this.url=this.url.slice(0,t)+"?"+r.join("&")}}},i.prototype._appendQueryString=function(){console.warn("Unsupported")},i.prototype._timeoutError=function(e,t,r){if(!this._aborted){var o=new Error("".concat(e+t,"ms exceeded"));o.timeout=t,o.code="ECONNABORTED",o.errno=r,this.timedout=!0,this.timedoutError=o,this.abort(),this.callback(o)}},i.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))}},{"./is-object":9}],12:[function(e,t,r){"use strict";var o=e("./utils");function n(e){if(e)return function(e){for(var t in n.prototype)Object.prototype.hasOwnProperty.call(n.prototype,t)&&(e[t]=n.prototype[t]);return e}(e)}t.exports=n,n.prototype.get=function(e){return this.header[e.toLowerCase()]},n.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=o.type(t);var r=o.params(t);for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(this[n]=r[n]);this.links={};try{e.link&&(this.links=o.parseLinks(e.link))}catch(e){}},n.prototype._setStatusProperties=function(e){var t=e/100|0;this.statusCode=e,this.status=this.statusCode,this.statusType=t,this.info=1===t,this.ok=2===t,this.redirect=3===t,this.clientError=4===t,this.serverError=5===t,this.error=(4===t||5===t)&&this.toError(),this.created=201===e,this.accepted=202===e,this.noContent=204===e,this.badRequest=400===e,this.unauthorized=401===e,this.notAcceptable=406===e,this.forbidden=403===e,this.notFound=404===e,this.unprocessableEntity=422===e}},{"./utils":13}],13:[function(e,t,r){"use strict";function o(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,s=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw s}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}r.type=function(e){return e.split(/ *; */).shift()},r.params=function(e){var t,r={},n=o(e.split(/ *; */));try{for(n.s();!(t=n.n()).done;){var i=t.value.split(/ *= */),s=i.shift(),a=i.shift();s&&a&&(r[s]=a)}}catch(e){n.e(e)}finally{n.f()}return r},r.parseLinks=function(e){var t,r={},n=o(e.split(/ *, */));try{for(n.s();!(t=n.n()).done;){var i=t.value.split(/ *; */),s=i[0].slice(1,-1);r[i[1].split(/ *= */)[1].slice(1,-1)]=s}}catch(e){n.e(e)}finally{n.f()}return r},r.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},{}]},{},[10])(10)}));let o,n="0.0.7";function i(e,i){r=i,o=e,t.get("https://app.modzy.com/api/models/93ltr2oepu/versions?isAvailable=true&isActive=true&sort-by=version&direction=DESC").set("Accept","application/json").set("Authorization","ApiKey "+r).redirects(0).end((function(e,i){e||!i.ok||(n=i.body[0].version),t.post("https://app.modzy.com/api/jobs").send({model:{identifier:"93ltr2oepu",version:n},input:{type:"embedded",sources:{"my-input":{"input.mp4":o}}}}).set("Content-Type","application/json").set("Authorization","ApiKey "+r).redirects(0).end((function(e,o){e||!o.ok?console.error("Oh no! error"):function(e){const o=setInterval((function(){t.get("https://app.modzy.com/api/jobs/"+e).set("Content-Type","application/json").set("Authorization","ApiKey "+r).redirects(0).end((function(n,i){if(n||!i.ok)clearInterval(o),s("COMPLETED_WITH_ERROR",error),console.error("Oh no! error");else{let n=i.body.status;"COMPLETED"===n||"TIMEDOUT"===n||"CANCELED"===n||"ERROR"===n?(clearInterval(o),function(e){t.get("https://app.modzy.com/api/results/"+e).set("Content-Type","application/json").set("Authorization","ApiKey "+r).redirects(0).end((function(e,t){if(e||!t.ok)s("COMPLETED_WITH_ERROR",error),console.error("Oh no! error");else if(void 0!==t.body.failures)s("FAILED",t.body.failures["my-input"].error);else{let e=t.body.results["my-input"].status;if("SUCCESSFUL"===e){let r=t.body.results["my-input"]["results.json"]["input.mp4"];s(e,parseFloat(r.toFixed(2)))}else s(e,t.body.results["my-input"].error)}}))}(e)):"COMPLETED_WITH_ERROR"===n&&(clearInterval(o),s("COMPLETED_WITH_ERROR",error))}}))}),500)}(o.body.jobIdentifier)}))}))}function s(e,t){let r=document.getElementById("deep-check-results"),o=document.getElementById("result-deepfake-message");"SUCCESSFUL"===e?t>=.5?(o.innerHTML="❌ Fake<br>This is a DeepFake video.<br>AI is <b>"+Math.round(100*t)+"%</b> sure.<br><br>Note: An AI can always be wrong.<br> Therefore, be skeptical.",r.style.color="red",a(!0,100*t)):(o.innerHTML="✅ Ok<br>No DeepFake video.<br> AI is <b>"+Math.round(100-100*t)+"%</b> sure.<br><br>Note: An AI can always be wrong.<br> Therefore, be skeptical.",r.style.color="green",a(!1,100-100*t)):o.innerHTML="Oops, sorry, this should not happen.<br> The AI could not process the video.<br> <br>Try again later.<br><br>Is the face in the video easy to see and not too small?<br>",document.getElementById("preload-deepfake").style.display="none",r.style.display="inline"}function a(e,t){let r=window.location.href;!function(e,t,r,o){let n=new Date,i=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();chrome.storage.sync.get(["deepfakeChecks"],(function(n){let s=n.deepfakeChecks;void 0===s&&(s=[]),s.push({page_title:e,page_url:t,score:o,isFake:r,timeChecked:i}),chrome.storage.sync.set({deepfakeChecks:s},(function(){}))}))}(document.title,r,e,t)}let u,c=document.getElementsByClassName("html5-main-video")[0];function l(e){u=e,function(){const e=setInterval((function(){var t=document.getElementsByClassName("ytp-right-controls");if(void 0!==t){if(null===document.getElementById("deepfake")||void 0===document.getElementById("deepfake")){var r=document.createElement("button");r.id="deepfake",r.className="ytp-button it-player-button",r.dataset.title="Deepfake detection",r.onclick=function(){!function(){let e;c=document.getElementsByClassName("html5-main-video")[0],document.getElementById("content").style.backgroundColor="#8b0000",async function(e,t){let r=new MediaRecorder(e,{mimeType:"video/webm"}),o=[];r.ondataavailable=e=>o.push(e.data),r.start();let n=new Promise(((e,t)=>{r.onstop=e,r.onerror=e=>t(e.name)})),i=(s=t,new Promise((e=>setTimeout(e,s)))).then((()=>"recording"==r.state&&r.stop()));var s;return Promise.all([n,i]).then((()=>o))}(c.captureStream(),5e3).then((t=>{document.getElementById("content").style.backgroundColor="#ffffff",function(){e=document.getElementById("recordingDiv"),null!==e&&e.parentNode.removeChild(e);var e;const t=document.createElement("div");t.id="recordingDiv",t.innerHTML='\n          <div id="recordingDivHeader">Click here to move</div>\n          <span style="text-align: left" onclick="document.getElementById(\'recordingDiv\').style.display=\'none\'"><u>[X]Close this window</u></span><br>\n          <video id="recording" width="260" height="220" controls></video>\n          <br>\n            <div id="preload-deepfake">  \n            <span style="font-size: medium">Processing...</span><br>                  \n            </div>\n          <br>\n          <div id="deep-check-results" style="display: none">\n            <h3>Result:</h3><br>\n            <span id="result-deepfake-message" style="font-size: large">       \n            </span>\n            \n          </div>\n          <br>\n          <a id="downloadButton" class="button">\n            Video download\n          </a>\n    ',document.getElementById("content").append(t);var r=document.createElement("img");r.src=chrome.runtime.getURL("images/preloader.gif"),document.getElementById("preload-deepfake").appendChild(r),function(e){var t=0,r=0,o=0,n=0;function i(e){(e=e||window.event).preventDefault(),o=e.clientX,n=e.clientY,document.onmouseup=a,document.onmousemove=s}function s(i){(i=i||window.event).preventDefault(),t=o-i.clientX,r=n-i.clientY,o=i.clientX,n=i.clientY,e.style.top=e.offsetTop-r+"px",e.style.left=e.offsetLeft-t+"px"}function a(){document.onmouseup=null,document.onmousemove=null}document.getElementById(e.id+"Header")?document.getElementById(e.id+"Header").onmousedown=i:e.onmousedown=i}(t)}(),e=new Blob(t,{type:"video/webm"}),recording.src=URL.createObjectURL(e),downloadButton.href=recording.src,downloadButton.download="RecordedVideo.webm"})).then((()=>{let t=new window.FileReader;t.readAsDataURL(e),t.onloadend=function(){i(t.result,u)}}))}()},t[0].insertBefore(r,t[0].childNodes[0]);let e=new Image;e.src=chrome.runtime.getURL("/images/logo48.png"),e.onload=()=>{var t=document.createElement("img");t.src=e.src,r.appendChild(t)}}clearInterval(e)}}),100)}()}window.addEventListener("onhashchange",(function(){location.href.includes("watch")||null!==document.getElementById("recordingDiv")&&document.getElementById("recordingDiv").remove()}));let p,f=location.href;new MutationObserver((()=>{const e=location.href;e!==f&&(f=e,location.href.includes("watch")||null!==document.getElementById("recordingDiv")&&document.getElementById("recordingDiv").remove())})).observe(document,{subtree:!0,childList:!0}),chrome.runtime.onMessage.addListener((function(e,t,r){"initRecordButton"===e.message&&chrome.storage.sync.get(["apiKey"],(function(e){p=e.apiKey,void 0===p?chrome.runtime.openOptionsPage?chrome.runtime.openOptionsPage():window.open(chrome.runtime.getURL("options.html")):l(p)}))}))})();
//# sourceMappingURL=content.js.map
